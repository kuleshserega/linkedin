{% extends "base.html" %}
{% load staticfiles base_extra %}
{% block title %}Projects{% endblock %}
{% block head %}
  {{ block.super }}
  <script type="text/javascript" src="{% static 'js/highlight.jquery.js' %}"></script>
{% endblock %}
{% block content %}
<div class="container mt-100">
  <div class="row">
    <div>
      <h3 class="h3-proj">Search list</h3>
      <form class="search-proj-form" action="{% url 'participantsapp:projects' %}" method="GET">
        <input id="id_orderby" name="orderby" type="hidden" value="{% if request.GET.orderby %}{{ request.GET.orderby }}{% endif %}" />
        <input type="submit" class="btn btn-lg btn-info btn-block search_buttons el-width-110" value="SEARCH" />
        <input id="id_search" class="form-control search_buttons el-width-200" autocomplete="off" name="search" value="{% if request.GET.search %}{{ request.GET.search }}{% endif %}" type="text" />
      </form>
    </div>
    {% if projects %}
      <table id="allProjectsTable" class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Search company</th>
            <th>Date</th>
            <th>Link to search</th>
          </tr>
        </thead>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        {% endfor %}
      </table>
    {% else %}
      <div class="clear">
        <p>No searchs found</p>
      </div>
    {% endif %}
    {% if is_paginated %}
      <div class="pagination">
        <span class="page-links">
          {% if page_obj.has_previous %}
            <a href="{% url 'participantsapp:projects' %}?page={{ page_obj.previous_page_number }}{% if request.GET.orderby %}&orderby={{ request.GET.orderby }}{% endif %}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}"><img class="el-width-25" src="{% static 'img/previous.png' %}"></a>
          {% endif %}
          <span class="page-current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
          </span>
          {% if page_obj.has_next %}
            <a href="{% url 'participantsapp:projects' %}?page={{ page_obj.next_page_number }}{% if request.GET.orderby %}&orderby={{ request.GET.orderby }}{% endif %}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}"><img class="el-width-25" src="{% static 'img/next.png' %}"></a>
          {% endif %}
        </span>
      </div>
    {% endif %}
  </div>
</div>    
{% endblock %}